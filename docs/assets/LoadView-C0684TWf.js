import{_ as g,u as d,a as x,c as r,b as s,d as o,e as u,f as k,g as v,n as w,Q as y,A as q,o as a,U as p}from"./index-Bw482TU5.js";const h={class:"loader-container"},C={class:"but-par"},E={key:0},L={key:0,class:"but-container"},V={key:0,class:"but-par"},S={key:1,class:"navigator"},_={class:"but-par"},$={key:2,class:"but-par offset"},B={__name:"LoadView",setup(I){const e=d(y),c=d(q),i=x();i.showMobileMenu=!1;function f(n){n.forEach(function(t){let l=0;t.answers.forEach(function(m){m.correct&&l++}),e.save({number:t.number,question:t.question,image:t.image,maxScore:l,answers:t.answers})})}function b(n){n.length!=e.all().length&&console.error("Error loading stats: Number of questions doesn't match"),n.forEach(function(t){e.where("number",t.number).update({numCorrect:t.numCorrect,numIncorrect:t.numIncorrect})}),i.statsLoaded=!0}return(n,t)=>(a(),r("div",h,[t[10]||(t[10]=s("h1",null,"Uploading your test data",-1)),s("div",C,[o(e).all().length===0?(a(),r("p",E," First you need to upload your questions: ")):u("",!0),o(e).all().length===0?(a(),k(p,{key:1,onData:f,buttonText:"Load Questions"})):u("",!0)]),o(e).all().length>=1?(a(),r("div",L,[o(i).statsLoaded?u("",!0):(a(),r("div",V,[t[3]||(t[3]=s("p",{class:"stats text"}," (Optional) You can also upload statistics from a prior session to allow question shuffle to prefer questions where you make mistakes. ",-1)),v(p,{onData:b,buttonText:"Load statistics"})]))])):u("",!0),o(e).all().length>=1?(a(),r("div",S,[s("div",{class:w(["but-par",{offset:!o(i).statsLoaded}])},[t[5]||(t[5]=s("p",{class:"explore text"},"Explore questions to revise your knowledge:",-1)),s("button",{class:"explore button",onClick:t[0]||(t[0]=l=>n.$router.push("/explore"))},t[4]||(t[4]=[s("span",{class:"but-text"},"Explore questions",-1)]))],2),s("div",_,[t[7]||(t[7]=s("p",{class:"test text"},"Or you can start testing right away:",-1)),s("button",{class:"test button",onClick:t[1]||(t[1]=l=>n.$router.push("/test"))},t[6]||(t[6]=[s("span",{class:"but-text"},"Start testing",-1)]))])])):u("",!0),o(e).all().length>=1?(a(),r("div",$,[t[9]||(t[9]=s("p",{class:"reset text"}," If you want to clear all questions, click this button: ",-1)),s("button",{class:"reset button",onClick:t[2]||(t[2]=l=>{o(e).flush(),o(c).flush()})},t[8]||(t[8]=[s("span",{class:"but-text"},"Reset questions",-1)]))])):u("",!0)]))}},N=g(B,[["__scopeId","data-v-98f6e926"]]);export{N as default};
