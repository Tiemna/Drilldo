import{_ as N,u as g,Q as M,a as Q,s as p,o as r,c as u,b as d,d as o,e as m,w as j,v as q,t as w,m as y,p as J,h as O}from"./index-484a2111.js";const v=l=>(J("data-v-1147289f"),l=l(),O(),l),U={class:"question-control"},B={class:"controls-container"},D=v(()=>d("span",{class:"but-text"},"Previous",-1)),L=[D],V={class:"slider-container"},$=["max","disabled"],E={class:"slider-index"},T=v(()=>d("span",{class:"but-text"},"Next",-1)),P=[T],z={key:0,class:"data-container"},A=v(()=>d("span",{class:"but-text"},"Results",-1)),F=[A],G=v(()=>d("span",{class:"but-text"},"Download stats",-1)),H=[G],K={__name:"QuestionControlComponent",setup(l){const f=window.MathJax,n=g(M),a=Q(),{index:_}=p(a),{viewMode:h}=p(a),{editMode:b}=p(a),{questions:c}=p(a);async function x(){const e=c.value[_.value].id;n.save({id:e,showResults:!0}),h.value||(n.find(e).score===n.find(e).maxScore?n.save({id:e,numCorrect:Number(n.find(e).numCorrect)+1}):n.save({id:e,numIncorrect:Number(n.find(e).numIncorrect)+1})),await y(),f.typeset()}async function C(){const e=c.value[_.value].id;n.find(e).showResults?a.next():x(),await y(),f.typeset()}function k(){a.previous()}function R(){let e=JSON.parse(JSON.stringify(n.all()));e.forEach(function(t,s){e[s]={number:t.number,numCorrect:t.numCorrect,numIncorrect:t.numIncorrect}}),e=e.sort((t,s)=>t.number-s.number),I(JSON.stringify(e,null,2),"text/json","stats.json")}function I(e,t,s){var S=new Blob([e],{type:t}),i=document.createElement("a");i.download=s,i.href=URL.createObjectURL(S),i.dataset.downloadurl=[t,i.download,i.href].join(":"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(function(){URL.revokeObjectURL(i.href)},1500)}return(e,t)=>(r(),u("div",U,[d("div",B,[o(b)?m("",!0):(r(),u("button",{key:0,class:"button",onClick:t[0]||(t[0]=s=>k())},L)),d("div",V,[j(d("input",{class:"slider",type:"range",min:"0",max:o(c).length-1,step:"1","onUpdate:modelValue":t[1]||(t[1]=s=>o(a).index=s),disabled:!o(a).viewMode&&!o(a).editMode},null,8,$),[[q,o(a).index]]),d("div",E,w(1+Number(o(_)))+"/"+w(o(c).length),1)]),o(b)?m("",!0):(r(),u("button",{key:1,class:"button",onClick:t[2]||(t[2]=s=>C())},P))]),!o(h)&&!o(b)?(r(),u("div",z,[o(n).find(o(c)[o(_)].id).showResults?m("",!0):(r(),u("button",{key:0,class:"button data",onClick:t[3]||(t[3]=s=>x())},F)),d("button",{class:"button data",onClick:t[4]||(t[4]=s=>R())},H)])):m("",!0)]))}},X=N(K,[["__scopeId","data-v-1147289f"]]);export{X as Q};
